{"ast":null,"code":"var _jsxFileName = \"/home/alfredo_orquiz/projects/school/codefellows/courses/401/todo-app/src/components/ItemList.jsx\",\n  _s = $RefreshSig$();\nimport { useContext, useState, useEffect } from 'react';\nimport Item from './Item';\nimport { SettingsContext } from '../context/setting.js';\nimport Pagination from './Pagination.jsx';\nimport sortAndFilter from '../lib/sorting.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ItemList(_ref) {\n  _s();\n  let {\n    list,\n    setList\n  } = _ref;\n  const context = useContext(SettingsContext);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [displayedList, setDisplayedList] = useState(list);\n  useEffect(() => {\n    const filteredList = sortAndFilter(list, context.showCompleted, context.sortBy);\n    setDisplayedList(filteredList);\n  }, [context.showCompleted, list, context.sortBy]);\n  function deleteItem(id) {\n    const items = list.filter(item => item.id !== id);\n    setList(items);\n  }\n  function toggleComplete(id) {\n    const items = list.map(item => {\n      if (item.id == id) {\n        item.complete = !item.complete;\n      }\n      return item;\n    });\n    setList(items);\n  }\n  function getPageList() {\n    const start = currentPage * context.numberOfItems - context.numberOfItems;\n    const end = start + context.numberOfItems < displayedList.length ? start + context.numberOfItems : displayedList.length;\n    return displayedList.slice(start, end);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list\",\n    \"data-testid\": \"item-list\",\n    children: [getPageList().map(item => /*#__PURE__*/_jsxDEV(Item, {\n      item: item,\n      toggleComplete: toggleComplete,\n      deleteItem: deleteItem\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(Pagination, {\n      setCurrentPage: setCurrentPage,\n      listLength: displayedList.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(ItemList, \"54mvlqTMBoq72x2D30cPeFfw9g4=\");\n_c = ItemList;\nexport default ItemList;\nvar _c;\n$RefreshReg$(_c, \"ItemList\");","map":{"version":3,"names":["useContext","useState","useEffect","Item","SettingsContext","Pagination","sortAndFilter","ItemList","list","setList","context","currentPage","setCurrentPage","displayedList","setDisplayedList","filteredList","showCompleted","sortBy","deleteItem","id","items","filter","item","toggleComplete","map","complete","getPageList","start","numberOfItems","end","length","slice"],"sources":["/home/alfredo_orquiz/projects/school/codefellows/courses/401/todo-app/src/components/ItemList.jsx"],"sourcesContent":["import { useContext, useState, useEffect } from 'react';\r\nimport Item from './Item';\r\nimport { SettingsContext } from '../context/setting.js';\r\nimport Pagination from './Pagination.jsx'\r\nimport sortAndFilter from '../lib/sorting.js';\r\n\r\nfunction ItemList({ list, setList }) {\r\n\r\n  const context = useContext(SettingsContext);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [ displayedList, setDisplayedList] = useState(list);\r\n\r\n  useEffect(() => {\r\n    const filteredList = sortAndFilter(list, context.showCompleted, context.sortBy);    \r\n    setDisplayedList(filteredList);\r\n\r\n  }, [context.showCompleted, list, context.sortBy]);\r\n\r\n  function deleteItem(id) {\r\n    const items = list.filter(item => item.id !== id);\r\n    setList(items);\r\n  }\r\n\r\n  function toggleComplete(id) {\r\n    const items = list.map(item => {\r\n      if (item.id == id) {\r\n        item.complete = !item.complete;\r\n      }\r\n      return item;\r\n    });\r\n    setList(items);\r\n  }\r\n\r\n  function getPageList() {\r\n    const start = currentPage * context.numberOfItems - context.numberOfItems;\r\n    const end = (start + context.numberOfItems) < displayedList.length ? start + context.numberOfItems : displayedList.length;\r\n    return displayedList.slice(start, end);\r\n  }\r\n\r\n  return (\r\n    <div className='list' data-testid='item-list'>\r\n      {getPageList().map(item => (\r\n          <Item item={item} toggleComplete={toggleComplete} deleteItem={deleteItem} key={item.id} />\r\n      ))}\r\n      <Pagination setCurrentPage={setCurrentPage} listLength={displayedList.length} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ItemList;"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACvD,OAAOC,IAAI,MAAM,QAAQ;AACzB,SAASC,eAAe,QAAQ,uBAAuB;AACvD,OAAOC,UAAU,MAAM,kBAAkB;AACzC,OAAOC,aAAa,MAAM,mBAAmB;AAAC;AAE9C,SAASC,QAAQ,OAAoB;EAAA;EAAA,IAAnB;IAAEC,IAAI;IAAEC;EAAQ,CAAC;EAEjC,MAAMC,OAAO,GAAGV,UAAU,CAACI,eAAe,CAAC;EAC3C,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAAEY,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAACO,IAAI,CAAC;EAEzDN,SAAS,CAAC,MAAM;IACd,MAAMa,YAAY,GAAGT,aAAa,CAACE,IAAI,EAAEE,OAAO,CAACM,aAAa,EAAEN,OAAO,CAACO,MAAM,CAAC;IAC/EH,gBAAgB,CAACC,YAAY,CAAC;EAEhC,CAAC,EAAE,CAACL,OAAO,CAACM,aAAa,EAAER,IAAI,EAAEE,OAAO,CAACO,MAAM,CAAC,CAAC;EAEjD,SAASC,UAAU,CAACC,EAAE,EAAE;IACtB,MAAMC,KAAK,GAAGZ,IAAI,CAACa,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC;IACjDV,OAAO,CAACW,KAAK,CAAC;EAChB;EAEA,SAASG,cAAc,CAACJ,EAAE,EAAE;IAC1B,MAAMC,KAAK,GAAGZ,IAAI,CAACgB,GAAG,CAACF,IAAI,IAAI;MAC7B,IAAIA,IAAI,CAACH,EAAE,IAAIA,EAAE,EAAE;QACjBG,IAAI,CAACG,QAAQ,GAAG,CAACH,IAAI,CAACG,QAAQ;MAChC;MACA,OAAOH,IAAI;IACb,CAAC,CAAC;IACFb,OAAO,CAACW,KAAK,CAAC;EAChB;EAEA,SAASM,WAAW,GAAG;IACrB,MAAMC,KAAK,GAAGhB,WAAW,GAAGD,OAAO,CAACkB,aAAa,GAAGlB,OAAO,CAACkB,aAAa;IACzE,MAAMC,GAAG,GAAIF,KAAK,GAAGjB,OAAO,CAACkB,aAAa,GAAIf,aAAa,CAACiB,MAAM,GAAGH,KAAK,GAAGjB,OAAO,CAACkB,aAAa,GAAGf,aAAa,CAACiB,MAAM;IACzH,OAAOjB,aAAa,CAACkB,KAAK,CAACJ,KAAK,EAAEE,GAAG,CAAC;EACxC;EAEA,oBACE;IAAK,SAAS,EAAC,MAAM;IAAC,eAAY,WAAW;IAAA,WAC1CH,WAAW,EAAE,CAACF,GAAG,CAACF,IAAI,iBACnB,QAAC,IAAI;MAAC,IAAI,EAAEA,IAAK;MAAC,cAAc,EAAEC,cAAe;MAAC,UAAU,EAAEL;IAAW,GAAMI,IAAI,CAACH,EAAE;MAAA;MAAA;MAAA;IAAA,QACzF,CAAC,eACF,QAAC,UAAU;MAAC,cAAc,EAAEP,cAAe;MAAC,UAAU,EAAEC,aAAa,CAACiB;IAAO;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA;IAAA;IAAA;IAAA;EAAA,QAC5E;AAEV;AAAC,GAzCQvB,QAAQ;AAAA,KAARA,QAAQ;AA2CjB,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}